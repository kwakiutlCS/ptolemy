$('#thermo_data_collection').html("");

$('#thermo_data_collection').html("<%= escape_javascript(render(:partial => 'thermal_capacities/tbody')) %>");

$("#thermo_time_field").on("keyup", function() {
	 if ($(this).val() == "") {
	     $("#thermo_energy_calculator").text("0.0");
	     $("#thermo_energy_field").val("");
	 }
	 else {
	     var t = parseFloat($(this).val());
	     if (t != NaN) {
		  $("#thermo_energy_calculator").text((Math.round(t*0.5*10)/10).toFixed(1));
		  $("#thermo_energy_field").val(t*500);
	     }
	 }
    });

if (<%= @data.count > 0 %>) {
$("#thermo_data_collection_explanation").html("<p>Recolha mais dados ou avance para a tarefa seguinte</p>");

$("#thermo_data-gathering_next").show();
}
else {
     $("#thermo_data_collection_explanation").html("<p>Aqui pode recolher os dados necessários para a resolução da tarefa. </p><p>À direita, tem um calorímetro que pode encher com diferentes quantidades de água e aquecer. Os valores indicam o volume de água no calorímetro, o intervalo de tempo que durou o aquecimento e a temperatura da água. </p><p>O aquecimento da água faz-se com uma resistência de 500W, o que permite saber a energia transferida para a água, se registarmos o intervalo de tempo que a resistência esteve ligada.</p><p>Em cima, tem um formulário onde pode introduzir os dados recolhidos.</p>");

$("#thermo_data-gathering_next").hide();
}



$("#thermo_volume_field").val("");
$("#thermo_time_field").val("");
$("#thermo_energy_calculator").text("0.0");